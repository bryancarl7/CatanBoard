# -------Game Environment for Settlers of Catan-------
# Created: 8/3/2018
# Last Updated: 8/5/2018
# Mostly Containers for now
# ----------------------------------------------------
import random
from model import Tile

# ----Resource List Key----- #
#    1 - WOOD                #
#    2 - CLAY                #
#    3 - HAY                 #
#    4 - SHEEP               #
#    5 - ORE                 #
#    6 - DESERT              #
# -------------------------- #
resource_list = [1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 5, 5, 5, 6]
number_list = [0, 2, 3, 3, 4, 4, 5, 5, 6, 6, 8, 8, 9, 9, 10, 10, 11, 11, 12]
resource_dependencies = [
    [0, 1, 2, 3, 9, 10, 11],
    [1, 3, 4, 5, 11, 12, 13],
    [2, 5, 6, 7, 13, 14 , 15],
    [3, 8, 9, 10, 18, 19, 20],
    [4, 10, 11, 12, 20, 21, 22],
    [5, 12, 13, 14, 22, 23, 24],
    [6, 14, 15, 16, 24, 25, 26],
    [7, 17, 18, 19, 28, 29, 30],
    [8, 19, 20, 21, 30, 31, 32],
    [9, 21, 22, 23, 32, 33, 34],
    [10, 23, 24, 25, 34, 35, 36],
    [11, 25, 26, 27, 36, 37, 38],
    [12, 29, 30, 31, 39, 40, 41],
    [13, 31, 32, 33, 41, 42, 43],
    [14, 33, 34, 35, 43, 44, 45],
    [15, 35, 36, 37, 45, 46, 47],
    [16, 40, 41, 42, 48, 49, 50],
    [17, 42, 43, 44, 50, 51, 52],
    [18, 44, 45, 46, 52, 53, 54],
]


class GameEnv(object):
    def __init__(self, player_list):
        self.board = [[], [], [], [], []]
        self.players = player_list
        self.tilePool = []
        self.vertexDependencies = [
            [1, 2, 3],
            [2, 1, 3],
            [3, 2, 4, 11],
            [4, 3, 5],
            [5, 4, 6, 13],
            [6, 5, 7],
            [7, 6, 15],
            [8, 9, 18],
            [9, 1, 8, 10],
            [10, 9, 11, 20],
            [11, 2, 10, 12],
            [12, 11, 13, 22],
            [13, 5, 12, 14],
            [14, 13, 15, 24],
            [15, 7, 14, 16],
            [16, 15, 26],
            [17, 18, 28],
            [18, 8, 17, 19],
            [19, 18, 20, 30],
            [20, 10, 19, 20],
            [21, 20, 22, 32],
            [22, 12, 21, 23],
            [23, 22, 24, 34],
            [24, 14, 23, 25],
            [25, 24, 26, 36],
            [26, 16, 25, 27],
            [27, 26, 38],
            [28, 17, 29],
            [29, 28, 30, 39],
            [30, 19, 29, 31],
            [31, 30, 32, 41],
            [32, 21, 31, 33],
            [33, 32, 34, 43],
            [34, 23, 33, 35],
            [35, 34, 36, 45],
            [36, 25, 35, 37],
            [37, 36, 38, 47],
            [38, 27, 37],
            [39, 29, 40],
            [40, 39, 41, 48],
            [41, 31, 40, 42],
            [42, 41, 43, 50],
            [43, 33, 42, 44],
            [44, 43, 45, 52],
            [45, 35, 44, 46],
            [46, 45, 47, 54],
            [47, 37, 46],
            [48, 40, 49],
            [49, 48, 50],
            [50, 42, 49, 51],
            [51, 50, 52],
            [52, 44, 51, 52],
            [53, 52, 54],
            [54, 46, 53]
        ]

    def setup_board(self):
        # Shuffle up the list to get random
        random_num_list = number_list.copy()
        random_res_list = resource_list.copy()
        random.shuffle(random_num_list)
        random.shuffle(random_res_list)
        ctr = 0

        for i in range(1, 18):
            self.tilePool.append(Tile(resource_dependencies[i], random_num_list[i], resource_dependencies[i]))
